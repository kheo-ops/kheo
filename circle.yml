dependencies:
  pre:
    - cd kheo-api && mvn clean package -DskipTests && cd ..
    - cd kheo-web && npm install && bower install && grunt build && cd ..
  post:
    - gem install cucumber

test:
  pre:
    - chmod a+x kheo-test/functional/test-api.sh
    - chmod a+x kheo-test/functional/test-ui.sh
    - java -jar kheo-api/target/kheo-api.jar server kheo-api/config/kheo-api-ci.yml:
        background: true

  override:
    - ./kheo-test/functional/test-api.sh
    - ./kheo-test/functional/test-ui.sh
